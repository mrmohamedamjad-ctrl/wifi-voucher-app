# Deploying the WiFi Voucher & Expenses MVP

You have several options; pick one you like.

## Option A — Render (recommended for simplicity)
1. Create an account at render.com and install the Render CLI (optional).
2. Push this folder to a Git repo.
3. Add `render.yaml` at the repo root (already included).
4. In Render, **New +** → **Blueprint** → point to your repo.
5. After deploy, Render gives you a public URL. Your docs will be at `/docs`.

Notes:
- A persistent disk is configured at `/data` for the SQLite file.
- Environment vars:
  - `JWT_SECRET` (autogenerated in render.yaml)
  - `DB_FILE=/data/app.db`
  - `PORT=8080`
- After first boot, run `npm run seed` locally once then upload `data/app.db` to the disk using Render SSH (or temporarily add a `/seed` route if you prefer). Alternatively, modify `src/index.js` to auto-run the seed when DB is empty.

## Option B — Railway
1. Create a new Railway project.
2. Use "Deploy from GitHub" and point to this repo.
3. Add env vars: `PORT=8080`, `JWT_SECRET=<secure-value>`, `DB_FILE=./data/app.db`.
4. Add a persistent volume named `data` mounted to `/app/data` (or adjust `DB_FILE` to `/data/app.db` + a mount at `/data` depending on your Railway plan).
5. Once deployed, visit the public URL → `/docs`.

## Option C — Fly.io
1. Install `flyctl`, run `fly launch` (it will read `fly.toml`).
2. Create a volume: `fly volumes create dbdata --size 1 -r <your-region>`.
3. Deploy with `fly deploy`. Docs at the app URL → `/docs`.

## Option D — Docker / self-host
```bash
docker build -t wifi-voucher-api .
docker run -p 8080:8080 -e JWT_SECRET=change_me -e DB_FILE=/data/app.db -v $(pwd)/data:/data wifi-voucher-api
```
Open `http://localhost:8080/docs`.

### Seeding in production
For a quick seed in production, you can run locally to generate `data/app.db`:
```bash
npm run seed
```
Then copy the `data/app.db` file to your server/volume. Or implement a guarded `/admin/seed` route that runs the seed once.

### Frontend note
This MVP exposes a documented REST API. You can deploy a React frontend separately (Vercel/Netlify) and point it at the API URL.
